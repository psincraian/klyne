{% extends "base.html" %}
{% from "components/header.html" import header %}
{% from "components/card.html" import card, info_box %}
{% from "components/form.html" import form_group, button %}

{% block title %}Register - Klyne{% endblock %}

{% block content %}
<div class="app">
    {{ header(
        page_title="Create Account",
        nav_links=[
            {"url": "/login", "text": "Sign In", "icon": "fas fa-sign-in-alt", "primary": True}
        ]
    ) }}
    
    <main class="main main--centered">
        <div style="width: 100%; max-width: 450px;">
            {% call card(
                icon={"class": "fas fa-user-plus"},
                title="Create Account",
                subtitle="Join Klyne to start tracking your Python package analytics and insights",
                centered=True
            ) %}
                {% if error_message %}
                    {% call info_box("Error", type="warning", icon="fas fa-exclamation-triangle") %}
                        {{ error_message }}
                    {% endcall %}
                {% endif %}
                
                <form action="/register" method="POST" class="form">
                    {{ form_group(
                        label="Email Address",
                        name="email",
                        type="email",
                        placeholder="you@example.com",
                        required=True,
                        icon="fas fa-envelope",
                        value=email if email else ""
                    ) }}
                    
                    {{ form_group(
                        label="Password",
                        name="password",
                        type="password",
                        placeholder="Create a secure password",
                        required=True,
                        icon="fas fa-lock",
                        help="<ul><li>At least 8 characters long</li><li>Use a mix of letters, numbers, and symbols</li></ul>"
                    ) }}
                    
                    {{ form_group(
                        label="Confirm Password",
                        name="password_confirm",
                        type="password",
                        placeholder="Confirm your password",
                        required=True,
                        icon="fas fa-shield-alt"
                    ) }}
                    
                    {{ button("Create Account", icon="fas fa-user-plus", variant="primary", full_width=True) }}
                </form>
                
                <div style="text-align: center; padding-top: 1.5rem; border-top: 1px solid var(--color-gray-200); font-size: 0.9rem; color: var(--color-gray-500);">
                    <p>Already have an account? <a href="/login" style="color: var(--color-primary); text-decoration: none; font-weight: 600;">Sign in here</a></p>
                </div>
            {% endcall %}
        </div>
    </main>
</div>
{% endblock %}