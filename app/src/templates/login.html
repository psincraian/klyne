{% extends "base.html" %}
{% from "components/header.html" import header %}
{% from "components/card.html" import card, info_box %}
{% from "components/form.html" import form_group, button %}

{% block title %}Login - Klyne{% endblock %}

{% block content %}
<div class="app">
    {{ header(
        page_title="Sign In",
        nav_links=[
            {"url": "/register", "text": "Sign Up", "icon": "fas fa-user-plus", "primary": True}
        ]
    ) }}
    
    <main class="main main--centered">
        <div style="width: 100%; max-width: 450px;">
            {% call card(
                icon={"class": "fas fa-sign-in-alt"},
                title="Welcome Back",
                subtitle="Sign in to access your analytics dashboard",
                centered=True
            ) %}
                {% if error_message %}
                    {% call info_box("Error", type="warning", icon="fas fa-exclamation-triangle") %}
                        {{ error_message }}
                    {% endcall %}
                {% endif %}
                
                <form action="/login" method="POST" class="form">
                    {{ form_group(
                        label="Email Address",
                        name="email",
                        type="email",
                        placeholder="you@example.com",
                        required=True,
                        icon="fas fa-envelope",
                        value=email if email else ""
                    ) }}
                    
                    {{ form_group(
                        label="Password",
                        name="password",
                        type="password",
                        placeholder="Enter your password",
                        required=True,
                        icon="fas fa-lock"
                    ) }}
                    
                    {{ button("Sign In", icon="fas fa-sign-in-alt", variant="primary", full_width=True) }}
                </form>
                
                <div style="text-align: center; padding-top: 1.5rem; border-top: 1px solid var(--color-gray-200); font-size: 0.9rem; color: var(--color-gray-500);">
                    <p>Don't have an account? <a href="/register" style="color: var(--color-primary); text-decoration: none; font-weight: 600;">Create one here</a></p>
                </div>
            {% endcall %}
        </div>
    </main>
</div>
{% endblock %}